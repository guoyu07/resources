/*! netteForms.js | (c) 2004, 2015 David Grudl (http://davidgrudl.com) */
var Nette=Nette||{};Nette.addEvent=function(a,b,c){var d=a["on"+b];a["on"+b]=function(){return"function"===typeof d&&!1===d.apply(a,arguments)?!1:c.apply(a,arguments)}};
Nette.getValue=function(a){var b,c;if(a){if(a.nodeName){if(a.form.elements[a.name].nodeName){if("file"===a.type)return a.files||a.value;if(a.name.match(/\[\]$/))return Nette.getValue([a]);if("select"===a.nodeName.toLowerCase()){b=a.selectedIndex;var d=a.options,e=[];if("select-one"===a.type)return 0>b?null:d[b].value;b=0;for(c=d.length;b<c;b++)d[b].selected&&e.push(d[b].value);return e}return"checkbox"===a.type?a.checked:"radio"===a.type?a.checked&&a.value:"textarea"===a.nodeName.toLowerCase()?a.value.replace("\r",
""):a.value.replace("\r","").replace(/^\s+|\s+$/g,"")}return Nette.getValue(a.form.elements[a.name])}d=a[0]&&!!a[0].name.match(/\[\]$/);e=[];b=0;for(c=a.length;b<c;b++)if(!(a[b].type in{checkbox:1,radio:1})||a[b].checked)if(d)e.push(a[b].value);else return a[b].value;return d?e:null}return null};Nette.getEffectiveValue=function(a){var b=Nette.getValue(a);a.getAttribute&&b===a.getAttribute("data-nette-empty-value")&&(b="");return b};
Nette.validateControl=function(a,b,c){a.nodeName||(a=a[0]);b=b||Nette.parseJSON(a.getAttribute("data-nette-rules"));for(var d=0,e=b.length;d<e;d++){var f=b[d],h=f.op.match(/(~)?([^?]+)/);f.neg=h[1];f.op=h[2];f.condition=!!f.rules;var k=f.control?a.form.elements[f.control]:a;k.nodeName||(k=k[0]);h=Nette.validateRule(k,f.op,f.arg);if(null!==h)if(f.neg&&(h=!h),f.condition&&h){if(!Nette.validateControl(a,f.rules,c))return!1}else if(!f.condition&&!h&&!Nette.isDisabled(k)){if(!c){var n=Nette.isArray(f.arg)?
f.arg:[f.arg];b=f.msg.replace(/%(value|\d+)/g,function(b,c){return Nette.getValue("value"===c?k:a.form.elements[n[c].control])});Nette.addError(k,b)}return!1}}return!0};
Nette.validateForm=function(a){a=a.form||a;var b=!1;if(a["nette-submittedBy"]&&null!==a["nette-submittedBy"].getAttribute("formnovalidate"))if(b=Nette.parseJSON(a["nette-submittedBy"].getAttribute("data-nette-validation-scope")),b.length)b=new RegExp("^("+b.join("-|")+"-)");else return!0;var c={},d,e;for(d=0;d<a.elements.length;d++){e=a.elements[d];if("radio"===e.type){if(c[e.name])continue;c[e.name]=!0}if(!(b&&!e.name.replace(/]\[|\[|]|$/g,"-").match(b)||Nette.isDisabled(e)||Nette.validateControl(e)))return!1}return!0};
Nette.isDisabled=function(a){if("radio"===a.type){a=a.form.elements[a.name].nodeName?[a]:a.form.elements[a.name];for(var b=0;b<a.length;b++)if(!a[b].disabled)return!1;return!0}return a.disabled};Nette.addError=function(a,b){b&&alert(b);a.focus&&a.focus()};Nette.expandRuleArgument=function(a,b){b&&b.control&&(b=Nette.getEffectiveValue(a.form.elements[b.control]));return b};
Nette.validateRule=function(a,b,c){var d=Nette.getEffectiveValue(a);":"===b.charAt(0)&&(b=b.substr(1));b=b.replace("::","_");b=b.replace(/\\/g,"");for(var e=Nette.isArray(c)?c.slice(0):[c],f=0,h=e.length;f<h;f++)e[f]=Nette.expandRuleArgument(a,e[f]);return Nette.validators[b]?Nette.validators[b](a,Nette.isArray(c)?e:e[0],d):null};
Nette.validators={filled:function(a,b,c){return""!==c&&!1!==c&&null!==c&&(!Nette.isArray(c)||!!c.length)&&(!window.FileList||!(c instanceof FileList)||c.length)},blank:function(a,b,c){return!Nette.validators.filled(a,b,c)},valid:function(a,b,c){return Nette.validateControl(a,null,!0)},equal:function(a,b,c){if(void 0===b)return null;c=Nette.isArray(c)?c:[c];b=Nette.isArray(b)?b:[b];a=0;var d=c.length;a:for(;a<d;a++){for(var e=0,f=b.length;e<f;e++)if(c[a]==b[e])continue a;return!1}return!0},notEqual:function(a,
b,c){return void 0===b?null:!Nette.validators.equal(a,b,c)},minLength:function(a,b,c){return c.length>=b},maxLength:function(a,b,c){return c.length<=b},length:function(a,b,c){b=Nette.isArray(b)?b:[b,b];return(null===b[0]||c.length>=b[0])&&(null===b[1]||c.length<=b[1])},email:function(a,b,c){return/^("([ !\x23-\x5B\x5D-\x7E]*|\\[ -~])+"|[-a-z0-9!#$%&'*+\/=?^_`{|}~]+(\.[-a-z0-9!#$%&'*+\/=?^_`{|}~]+)*)@([0-9a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)+[a-z\u00C0-\u02FF\u0370-\u1EFF][-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF]$/i.test(c)},
url:function(a,b,c){return/^(https?:\/\/|(?=.*\.))([0-9a-z\u00C0-\u02FF\u0370-\u1EFF](([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)*[a-z\u00C0-\u02FF\u0370-\u1EFF][-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF]|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[[0-9a-f:]{3,39}\])(:\d{1,5})?(\/\S*)?$/i.test(c)},regexp:function(a,b,c){if(a="string"===typeof b?b.match(/^\/(.*)\/([imu]*)$/):!1)try{return(new RegExp(a[1],a[2].replace("u",""))).test(c)}catch(d){}},
pattern:function(a,b,c){try{return"string"===typeof b?(new RegExp("^("+b+")$")).test(c):null}catch(d){}},integer:function(a,b,c){return/^-?[0-9]+$/.test(c)},"float":function(a,b,c){return/^-?[0-9]*[.,]?[0-9]+$/.test(c)},min:function(a,b,c){return Nette.validators.range(a,[b,null],c)},max:function(a,b,c){return Nette.validators.range(a,[null,b],c)},range:function(a,b,c){return Nette.isArray(b)?(null===b[0]||parseFloat(c)>=b[0])&&(null===b[1]||parseFloat(c)<=b[1]):null},submitted:function(a,b,c){return a.form["nette-submittedBy"]===
a},fileSize:function(a,b,c){if(window.FileList)for(a=0;a<c.length;a++)if(c[a].size>b)return!1;return!0},image:function(a,b,c){if(window.FileList&&c instanceof FileList)for(a=0;a<c.length;a++)if((b=c[a].type)&&"image/gif"!==b&&"image/png"!==b&&"image/jpeg"!==b)return!1;return!0}};
Nette.toggleForm=function(a,b){var c;Nette.toggles={};for(c=0;c<a.elements.length;c++)a.elements[c].nodeName.toLowerCase()in{input:1,select:1,textarea:1,button:1}&&Nette.toggleControl(a.elements[c],null,null,!b);for(c in Nette.toggles)Nette.toggle(c,Nette.toggles[c],b)};
Nette.toggleControl=function(a,b,c,d){b=b||Nette.parseJSON(a.getAttribute("data-nette-rules"));for(var e=!1,f=Object.prototype.hasOwnProperty,h=function(){Nette.toggleForm(a.form,a)},k=[],n=0,t=b.length;n<t;n++){var g=b[n],l=g.op.match(/(~)?([^?]+)/);g.neg=l[1];g.op=l[2];g.condition=!!g.rules;if(g.condition){var l=g.control?a.form.elements[g.control]:a,m=c;if(!1!==m){m=Nette.validateRule(l,g.op,g.arg);if(null===m)continue;g.neg&&(m=!m)}if(Nette.toggleControl(a,g.rules,m,d)||g.toggle){e=!0;if(d)for(var u=
!document.addEventListener,q=l.nodeName?[l]:l,p=0;p<q.length;p++)Nette.inArray(k,q[p])||(Nette.addEvent(q[p],u&&l.type in{checkbox:1,radio:1}?"click":"change",h),k.push(q[p]));for(var r in g.toggle||[])f.call(g.toggle,r)&&(Nette.toggles[r]=Nette.toggles[r]||(g.toggle[r]?m:!m))}}}return e};Nette.parseJSON=function(a){a=a||"[]";return"{op"===a.substr(0,3)?eval("["+a+"]"):window.JSON&&window.JSON.parse?JSON.parse(a):eval(a)};
Nette.toggle=function(a,b,c){if(a=document.getElementById(a))a.style.display=b?"":"none"};Nette.initForm=function(a){a.noValidate="novalidate";Nette.addEvent(a,"submit",function(b){if(!Nette.validateForm(a))return b&&b.stopPropagation?b.stopPropagation():window.event&&(event.cancelBubble=!0),!1});Nette.addEvent(a,"click",function(b){b=b||event;b=b.target||b.srcElement;a["nette-submittedBy"]=b.type in{submit:1,image:1}?b:null});Nette.toggleForm(a)};
Nette.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};Nette.inArray=function(a,b){if(Array.prototype.indexOf)return-1<a.indexOf(b);for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1};Nette.addEvent(window,"load",function(){for(var a=0;a<document.forms.length;a++)Nette.initForm(document.forms[a])});
Nette.webalize=function(a){a=a.toLowerCase();var b="",c,d;for(c=0;c<a.length;c++)d=Nette.webalizeTable[a.charAt(c)],b+=d?d:a.charAt(c);return b.replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")};Nette.webalizeTable={"\u00e1":"a","\u010d":"c","\u010f":"d","\u00e9":"e","\u011b":"e","\u00ed":"i","\u0148":"n","\u00f3":"o","\u0159":"r","\u0161":"s","\u0165":"t","\u00fa":"u","\u016f":"u","\u00fd":"y","\u017e":"z"};
